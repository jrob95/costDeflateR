---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# costDeflateR

<!-- badges: start -->
[![Codecov test coverage](https://codecov.io/gh/jrob95/costDeflateR/graph/badge.svg)](https://app.codecov.io/gh/jrob95/costDeflateR)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/costDeflateR)](https://CRAN.R-project.org/package=costDeflateR)
<!-- badges: end -->


**costDeflateR** is an R package designed to help you deflate currency values across countries and years using GDP deflators and PPP exchange rates from IMF and OECD datasets. It provides tools for adjusting monetary values to a common base, ensuring comparability across time and geography.

## Installation

```r
# Install from GitHub (if using devtools or remotes)
# remotes::install_github("jrob95/costDeflateR")
```

## Features

- `deflate()`: Main function to deflate currency values using GDP deflators and PPP exchange rates. You can use live IMF/ OECD data using the `use_live_data = TRUE`
- `delfator_country_year_combs()`: Lists available country-year combinations in the reference datasets.

## Example Usage

### Deflating Currency Values

```r
library(costDeflateR)

# Sample data
data <- data.frame(
  country_base = c("USA", "Germany"),
  year_base = c(2010, 2015),
  country_target = c("France", "Italy"),
  year_target = c(2015, 2020),
  cost_base = c(100, 200)
)

# Deflate currency values
deflated_data <- deflate(
  input_data = data,
  cost_base = "cost_base",
  year_base = "year_base",
  country_base = "country_base",
  year_target = "year_target",
  country_target = "country_target"
)

print(deflated_data)
```

### Using Constant Values

```r
data <- data.frame(cost_base = c(100, 200))

deflated_data <- deflate(
  input_data = data,
  cost_base = "cost_base",
  year_base = "2010",
  country_base = "Australia",
  year_target = "2020",
  country_target = "United States",
  rename_countries = TRUE
)
```

## Helper Functions

### Available Country-Year Combinations

You might not know which year/ country combinations have data present in your PPPEX and NGDP_D combination choice. `delfator_country_year_combs()` lets you check.

```r
delfator_country_year_combs(pppex_src = "IMF")
```


## Data Sources

- **IMF World Economic Outlook (WEO)**
- **OECD PPP Exchange Rates**

## Contributing
Feel free to open issues or submit pull requests. Contributions are welcome!

## License

LGPL=3.0 Â© Jack Roberts and Ian Shemilt
